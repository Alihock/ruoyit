<!DOCTYPE html>
<html lang="zh" xmlns:th="http://www.thymeleaf.org" >
<head>
	<th:block th:include="include :: header('修改实践活动')" />
</head>
<body class="white-bg">
    <div class="wrapper wrapper-content animated fadeInRight ibox-content">
        <form class="form-horizontal m" id="form-activity-edit" th:object="${activity}">
            <input id="activityId" name="activityId" th:field="*{activityId}"  type="hidden">
			<div class="form-group">	
				<label class="col-sm-3 control-label">课程号：</label>
				<div class="col-sm-8">
					<input id="courseNum" name="courseNum" th:field="*{courseNum}" class="form-control" type="text">
				</div>
			</div>
			<div class="form-group">	
				<label class="col-sm-3 control-label">课程名：</label>
				<div class="col-sm-8">
					<input id="courseName" name="courseName" th:field="*{courseName}" class="form-control" type="text">
				</div>
			</div>
			<div class="form-group">	
				<label class="col-sm-3 control-label">总学分：</label>
				<div class="col-sm-8">
					<input id="totalCredit" name="totalCredit" th:field="*{totalCredit}" class="form-control" type="text">
				</div>
			</div>
			<div class="form-group">	
				<label class="col-sm-3 control-label">班级信息：</label>
				<div class="col-sm-8">
					<input id="classInf" name="classInf" th:field="*{classInf}" class="form-control" type="text">
				</div>
			</div>
			<div class="form-group">	
				<label class="col-sm-3 control-label">班级人数：</label>
				<div class="col-sm-8">
					<input id="classNum" name="classNum" th:field="*{classNum}" class="form-control" type="text">
				</div>
			</div>
			<div class="form-group">	
				<label class="col-sm-3 control-label">任课教师：</label>
				<div class="col-sm-8">
					<input id="teacher" name="teacher" th:field="*{teacher}" class="form-control" type="text">
				</div>
			</div>
			<div class="form-group">	
				<label class="col-sm-3 control-label">上课起止周：</label>
				<div class="col-sm-8">
					<input id="week" name="week" th:field="*{week}" class="form-control" type="text">
				</div>
			</div>
			<div class="form-group">	
				<label class="col-sm-3 control-label">校内外：</label>
				<div class="col-sm-8">
					<input id="school" name="school" th:field="*{school}" class="form-control" type="text">
				</div>
			</div>
			<div class="form-group">	
				<label class="col-sm-3 control-label">详细地址：</label>
				<div class="col-sm-8">
					<input id="address" name="address" th:field="*{address}" class="form-control" type="text">
				</div>
			</div>
			<div class="form-group">	
				<label class="col-sm-3 control-label">备注：</label>
				<div class="col-sm-8">
					<input id="remark" name="remark" th:field="*{remark}" class="form-control" type="text">
				</div>
			</div>
		</form>
    </div>
	<input id="u" type="hidden" th:value="${roleNames}">
    <div th:include="include::footer"></div>
    <script type="text/javascript">
		$(function(){
			console.log($("#u").val())
			alert($("#u").val())
			var strs = $("#u").val().split(",");
			for(var i in strs){
				if("教师"===strs[i])
				{
					$("#courseNum").attr({"readonly":"readonly"})
					$("#courseName").attr({"readonly":"readonly"})
					$("#totalCredit").attr({"readonly":"readonly"})
					$("#classInf").attr({"readonly":"readonly"})
					$("#classNum").attr({"readonly":"readonly"})
					$("#teacher").attr({"readonly":"readonly"})
					$("#week").attr({"readonly":"readonly"})
				}
				else if("系主任"===strs[i])
				{
					$("#courseNum").attr({"readonly":"readonly"})
					$("#courseName").attr({"readonly":"readonly"})
					$("#totalCredit").attr({"readonly":"readonly"})
					$("#classInf").attr({"readonly":"readonly"})
					$("#classNum").attr({"readonly":"readonly"}
					$("#school").attr({"readonly":"readonly"})
					$("#address").attr({"readonly":"readonly"})
					$("#remark").attr({"readonly":"readonly"})
				}

			}
		})
		var prefix = ctx + "system/activity";
		$("#form-activity-edit").validate({
			rules:{
				xxxx:{
					required:true,
				},
			},
			focusCleanup: true
		});
		
		function submitHandler() {
	        if ($.validate.form()) {
	            $.operate.save(prefix + "/edit", $('#form-activity-edit').serialize());
	        }
	    }
	</script>
</body>
</html>
