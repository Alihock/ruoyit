<!DOCTYPE html>
<html lang="zh" xmlns:th="http://www.thymeleaf.org" >
<head>
	<th:block th:include="include :: header('修改0000')" />
</head>
<body class="white-bg">
    <div class="wrapper wrapper-content animated fadeInRight ibox-content">
        <form class="form-horizontal m" id="form-task-edit" th:object="${task}">
            <input id="taskId" name="taskId" th:field="*{taskId}"  type="hidden">
			<div class="form-group">	
				<label class="col-sm-3 control-label">课程号：</label>
				<div class="col-sm-8">
					<input id="courseNum" name="courseNum" th:field="*{courseNum}" class="form-control" type="text">
				</div>
			</div>
			<div class="form-group">	
				<label class="col-sm-3 control-label">课程名：</label>
				<div class="col-sm-8">
					<input id="courseName" name="courseName" th:field="*{courseName}" class="form-control" type="text" >
				</div>
			</div>
			<div class="form-group">	
				<label class="col-sm-3 control-label">专业：</label>
				<div class="col-sm-8">
					<input id="major" name="major" th:field="*{major}" class="form-control" type="text">
				</div>
			</div>
			<div class="form-group">	
				<label class="col-sm-3 control-label">院系：</label>
				<div class="col-sm-8">
					<input id="faculty" name="faculty" th:field="*{faculty}" class="form-control" type="text">
				</div>
			</div>
			<div class="form-group">	
				<label class="col-sm-3 control-label">班级信息：</label>
				<div class="col-sm-8">
					<input id="classInf" name="classInf" th:field="*{classInf}" class="form-control" type="text">
				</div>
			</div>
			<div class="form-group">	
				<label class="col-sm-3 control-label">班级人数：</label>
				<div class="col-sm-8">
					<input id="classNum" name="classNum" th:field="*{classNum}" class="form-control" type="text">
				</div>
			</div>
			<div class="form-group">	
				<label class="col-sm-3 control-label">课程属性：</label>
				<div class="col-sm-8">
					<input id="courseType" name="courseType" th:field="*{courseType}" class="form-control" type="text">
				</div>
			</div>
			<div class="form-group">	
				<label class="col-sm-3 control-label">考试类别：</label>
				<div class="col-sm-8">
					<input id="textType" name="textType" th:field="*{textType}" class="form-control" type="text">
				</div>
			</div>
			<div class="form-group">	
				<label class="col-sm-3 control-label">任课教师：</label>
				<div class="col-sm-8">
					<input id="teacher" name="teacher" th:field="*{teacher}" class="form-control" type="text">
				</div>
			</div>
			<div class="form-group">	
				<label class="col-sm-3 control-label">上课起止周：</label>
				<div class="col-sm-8">
					<input id="week" name="week" th:field="*{week}" class="form-control" type="text">
				</div>
			</div>
			<div class="form-group">	
				<label class="col-sm-3 control-label">周学时：</label>
				<div class="col-sm-8">
					<input id="weekTime" name="weekTime" th:field="*{weekTime}" class="form-control" type="text">
				</div>
			</div>
			<div class="form-group">	
				<label class="col-sm-3 control-label">多媒体：</label>
				<div class="col-sm-8">
					<input id="media" name="media" th:field="*{media}" class="form-control" type="text">
				</div>
			</div>
			<div class="form-group">	
				<label class="col-sm-3 control-label">双语：</label>
				<div class="col-sm-8">
					<input id="doubleLang" name="doubleLang" th:field="*{doubleLang}" class="form-control" type="text">
				</div>
			</div>
			<div class="form-group">	
				<label class="col-sm-3 control-label">辅导：</label>
				<div class="col-sm-8">
					<input id="asist" name="asist" th:field="*{asist}" class="form-control" type="text">
				</div>
			</div>
			<div class="form-group">	
				<label class="col-sm-3 control-label">备注：</label>
				<div class="col-sm-8">
					<input id="remark" name="remark" th:field="*{remark}" class="form-control" type="text">
				</div>
			</div>
		</form>
    </div>
	<input id="u" type="hidden" th:value="${roleNames}">
    <div th:include="include::footer"></div>
    <script type="text/javascript">
		$(function(){
			console.log($("#u").val())
			alert($("#u").val())
			var strs = $("#u").val().split(",");
			for(var i in strs){
				if("教师"===strs[i])
				{
					$("#courseNum").attr({"readonly":"readonly"})
					$("#courseName").attr({"readonly":"readonly"})
					$("#major").attr({"readonly":"readonly"})
					$("#classInf").attr({"readonly":"readonly"})
					$("#classNum").attr({"readonly":"readonly"})
					$("#courseType").attr({"readonly":"readonly"})
					$("#textType").attr({"readonly":"readonly"})
					$("#teacher").attr({"readonly":"readonly"})
					$("#faculty").attr({"readonly":"readonly"})
					$("#week").attr({"readonly":"readonly"})
				}else if("系主任"===strs[i]){
					$("#courseNum").attr({"readonly":"readonly"})
					$("#courseName").attr({"readonly":"readonly"})
					$("#major").attr({"readonly":"readonly"})
					$("#classInf").attr({"readonly":"readonly"})
					$("#classNum").attr({"readonly":"readonly"})
					$("#courseType").attr({"readonly":"readonly"})
					$("#textType").attr({"readonly":"readonly"})
					$("#faculty").attr({"readonly":"readonly"})
					$("#weekTime").attr({"readonly":"readonly"})
					$("#media").attr({"readonly":"readonly"})
					$("#doubleLang").attr({"readonly":"readonly"})
					$("#asist").attr({"readonly":"readonly"})
					$("#remark").attr({"readonly":"readonly"})
				}else if("教研处管理员"===strs[i])
				{	$("#courseNum").attr({"readonly":"readonly"})
					$("#courseName").attr({"readonly":"readonly"})
					$("#classInf").attr({"readonly":"readonly"})
					$("#classNum").attr({"readonly":"readonly"})
					$("#courseType").attr({"readonly":"readonly"})
					$("#textType").attr({"readonly":"readonly"})
					$("#faculty").attr({"readonly":"readonly"})
					$("#weekTime").attr({"readonly":"readonly"})
					$("#media").attr({"readonly":"readonly"})
					$("#doubleLang").attr({"readonly":"readonly"})
					$("#asist").attr({"readonly":"readonly"})
					$("#remark").attr({"readonly":"readonly"})
					$("#major").attr({"readonly":"readonly"})
					$("#teacher").attr({"readonly":"readonly"})
					$("#week").attr({"readonly":"readonly"})
				}
			}


		})

		var prefix = ctx + "system/task";
		$("#form-task-edit").validate({
			rules:{
				xxxx:{
					required:true,
				},
			},
			focusCleanup: true
		});
		
		function submitHandler() {
	        if ($.validate.form()) {
	            $.operate.save(prefix + "/edit", $('#form-task-edit').serialize());
	        }
	    }
	</script>
</body>
</html>
